{
  "type": "object",
  "x-exports": ["types", "resolvedSchemaJson"],
  "required": ["datasets", "chart"],
  "allOf": [
    {
      "title": "Source de données",
      "properties": {
        "datasets": {
          "$ref": "#/definitions/datasets"
        },
        "staticFilters": {
          "$ref": "#/definitions/filters"
        }
      }
    },
    {
      "title": "Type de visualisation",
      "properties": {
        "chart": {
          "type": "object",
          "default": {
            "type": "line"
          },
          "required": ["type", "config"],
          "oneOf": [
            {
              "title": "Courbe",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "line"
                },
                "tension": {
                  "$ref": "#/definitions/tension"
                },
                "area": {
                  "type": "boolean",
                  "title": "Remplir l'aire en dessous",
                  "default": false
                },
                "config": {
                  "$ref": "#/definitions/singleDataType"
                }
              }
            },
            {
              "title": "Histogramme",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "bar",
                  "title": "Type de visualisation"
                },
                "horizontal": {
                  "$ref": "#/definitions/horizontal"
                },
                "config": {
                  "$ref": "#/definitions/singleDataType"
                }
              }
            },
            {
              "title": "Plusieurs courbes",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "multi-line"
                },
                "tension": {
                  "$ref": "#/definitions/tension"
                },
                "stacked": {
                  "type": "boolean",
                  "title": "Aires empilées"
                },
                "config": {
                  "$ref": "#/definitions/multipleDataType"
                }
              }
            },
            {
              "title": "Histogramme multivalué",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "multi-bar",
                  "title": "Type de visualisation"
                },
                "horizontal": {
                  "$ref": "#/definitions/horizontal"
                },
                "stacked": {
                  "type": "boolean",
                  "title": "Empiler les barres"
                },
                "config": {
                  "$ref": "#/definitions/multipleDataType"
                }
              }
            },
            {
              "title": "Radar",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "radar"
                },
                "tension": {
                  "$ref": "#/definitions/tension"
                },
                "config": {
                  "$ref": "#/definitions/multipleDataType"
                }
              }
            },
            {
              "title": "Camembert",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "pie"
                },
                "config": {
                  "$ref": "#/definitions/categories"
                }
              }
            },
            {
              "title": "Paire d'histogrammes",
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "paired-histogram",
                  "title": "Type de visualisation"
                },
                "config": {
                  "$ref": "#/definitions/multipleDataType"
                }
              }
            }
          ]
        }
      }
    },
    {
      "title": "Options",
      "properties": {
        "title": {
          "title": "Titre du graphique",
          "type": "string"
        },
        "dynamicFilters": {
          "$ref": "#/definitions/dynamicFilters"
        }
      }
    }
  ],
  "definitions": {
    "datasets": {
      "type": "array",
      "items": [
        {
          "title": "Jeu de données",
          "description": "Ce jeu doit contenir au moins une colonne avec valeur numérique",
          "type": "object",
          "x-fromUrl": "api/v1/datasets?status=finalized&field-type=integer,number&q={q}&select=id,title&{context.datasetFilter}",
          "x-itemsProp": "results",
          "x-itemTitle": "title",
          "x-itemKey": "href",
          "additionalProperties": false,
          "properties": {
            "href": {
              "type": "string"
            },
            "title": {
              "type": "string"
            },
            "id": {
              "type": "string"
            },
            "finalizedAt": {
              "type": "string"
            }
          }
        }
      ]
    },
    "size": {
      "type": "integer",
      "title": "Nombre maximal d'élements",
      "default": 10
    },
    "horizontal": {
      "type": "boolean",
      "title": "Affichage horizontal"
    },
    "labelsField": {
      "type": "object",
      "title": "Colonne de libellés",
      "description": "Choisissez la colonne contenant les libellés à présenter en légende. Dans le cas d'un diagramme en ligne, cette colonne va correspondre aux valeurs présentées en abscisse.",
      "x-fromUrl": "{datasets.0.href}/schema?calculated=false",
      "x-itemTitle": "label",
      "x-itemKey": "key"
    },
    "valuesField": {
      "type": "string",
      "title": "Colonne de valeurs",
      "description": "Choisissez une colonne de valeurs numériques à présenter dans le graphique.",
      "x-fromUrl": "{datasets.0.href}/schema?calculated=false&type=integer,number",
      "x-itemTitle": "label",
      "x-itemKey": "key"
    },
    "valuesFields": {
      "type": "array",
      "title": "Colonnes de valeurs",
      "description": "Choisissez les colonnes de valeurs numériques à présenter dans le graphique.",
      "x-fromUrl": "{datasets.0.href}/schema?calculated=false&type=integer,number",
      "x-itemTitle": "label",
      "x-itemKey": "key",
      "minItems": 1,
      "maxItems": 12,
      "items": {
        "type": "object"
      }
    },
    "rowSort": {
      "type": "string",
      "title": "Trier par",
      "default": "row",
      "oneOf": [
        {
          "const": "row",
          "title": "Ligne"
        },
        {
          "const": "value",
          "title": "Valeur"
        },
        {
          "const": "label",
          "title": "Libellé"
        }
      ]
    },
    "aggSort": {
      "type": "string",
      "title": "Trier par",
      "default": "label",
      "oneOf": [
        {
          "const": "value",
          "title": "Valeur calculée"
        },
        {
          "const": "label",
          "title": "Libellé"
        }
      ]
    },
    "sortOrder": {
      "type": "string",
      "title": "Ordre",
      "default": "asc",
      "oneOf": [
        {
          "const": "asc",
          "title": "Ascendant"
        },
        {
          "const": "desc",
          "title": "Descendant"
        }
      ]
    },
    "dynamicSort": {
      "type": "boolean",
      "title": "Trier dynamiquement",
      "description": "Si cette option est activée, l'utilisateur pourra choisir la colonne de tri et l'ordre de tri dans le formulaire de filtres interactifs.",
      "default": false
    },
    "tension": {
      "type": "integer",
      "title": "Courbure",
      "minimum": 0,
      "maximum": 4,
      "default": 1,
      "x-display": "slider"
    },
    "hexColor": {
      "type": "string",
      "title": "Couleur",
      "format": "hexcolor",
      "default": "#828282",
      "x-display": "color-picker"
    },
    "color": {
      "type": "object",
      "title": "Couleur",
      "required": ["type"],
      "oneOf": [
        {
          "title": "Thème",
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "theme"
            },
            "strValue": {
              "title": "Couleur",
              "type": "string",
              "oneOf": [
                {
                  "const": "primary",
                  "title": "Primaire"
                },
                {
                  "const": "secondary",
                  "title": "Secondaire"
                }
              ]
            }
          }
        },
        {
          "title": "Personnalisée",
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "custom"
            },
            "hexValue": {
              "$ref": "#/definitions/hexColor"
            }
          }
        }
      ],
      "default": {
        "type": "theme",
        "strValue": "primary"
      }
    },
    "groupBy": {
      "type": "object",
      "required": ["type"],
      "default": {
        "type": "value"
      },
      "oneOf": [
        {
          "title": "Valeurs exactes d'une colonne",
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "value",
              "title": "Grouper par"
            },
            "field": {
              "type": "object",
              "title": "Grouper en fonction de cette colonne",
              "x-fromUrl": "{datasets.0.href}/schema?calculated=false",
              "x-itemTitle": "label",
              "x-itemKey": "key"
            },
            "interval": {
              "const": "value"
            }
          }
        },
        {
          "title": "Intervalles d'une colonne de type date",
          "required": ["field", "interval"],
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "date"
            },
            "field": {
              "type": "object",
              "title": "Grouper en fonction de cette colonne",
              "x-fromUrl": "{datasets.0.href}/schema?calculated=false&format=date,date-time",
              "x-itemTitle": "label",
              "x-itemKey": "key"
            },
            "interval": {
              "type": "string",
              "title": "Taille des intervalles",
              "default": "day",
              "oneOf": [
                {
                  "const": "hour",
                  "title": "Heure"
                },
                {
                  "const": "day",
                  "title": "Jour"
                },
                {
                  "const": "week",
                  "title": "Semaine"
                },
                {
                  "const": "month",
                  "title": "Mois"
                },
                {
                  "const": "year",
                  "title": "Année"
                }
              ]
            }
          }
        },
        {
          "title": "Intervalles d'une colonne numérique",
          "required": ["field", "interval"],
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "number"
            },
            "field": {
              "type": "object",
              "title": "Grouper en fonction de cette colonne",
              "x-fromUrl": "{datasets.0.href}/schema?calculated=false&type=integer,number",
              "x-itemTitle": "label",
              "x-itemKey": "key"
            },
            "interval": {
              "type": "integer",
              "title": "Taille des intervalles",
              "default": 100
            }
          }
        }
      ]
    },
    "valueCalc": {
      "title": "Calcul de la valeur",
      "type": "object",
      "default": {
        "type": "count"
      },
      "oneOf": [
        {
          "title": "Nombre de lignes",
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "count"
            }
          }
        },
        {
          "title": "Calcul depuis les valeurs d'une colonne",
          "required": ["field", "metric"],
          "additionalProperties": false,
          "properties": {
            "type": {
              "const": "metric"
            },
            "field": {
              "type": "object",
              "title": "Colonne",
              "x-fromUrl": "{datasets.0.href}/schema?calculated=false&type=integer,number",
              "x-itemTitle": "label",
              "x-itemKey": "key"
            },
            "metric": {
              "type": "string",
              "title": "Type de calcul",
              "default": "sum",
              "oneOf": [
                {
                  "const": "avg",
                  "title": "Moyenne"
                },
                {
                  "const": "min",
                  "title": "Valeur minimale"
                },
                {
                  "const": "max",
                  "title": "Valeur maximale"
                },
                {
                  "const": "sum",
                  "title": "Somme"
                }
              ]
            },
            "dynamicMetric": {
              "type": "boolean",
              "title": "Choix dynamique de la métrique",
              "default": false
            }
          }
        }
      ]
    },
    "rowsDataSingle": {
      "title": "Lire les lignes une par une",
      "type": "object",
      "required": ["sortBy", "sortOrder", "size", "labelsField", "valuesField"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "rowsBased"
        },
        "labelsField": {
          "$ref": "#/definitions/labelsField"
        },
        "size": {
          "$ref": "#/definitions/size"
        },
        "valuesField": {
          "$ref": "#/definitions/valuesField"
        },
        "sortBy": {
          "$ref": "#/definitions/rowSort"
        },
        "sortOrder": {
          "$ref": "#/definitions/sortOrder"
        },
        "dynamicSort": {
          "$ref": "#/definitions/dynamicSort"
        },
        "color": {
          "$ref": "#/definitions/color"
        }
      }
    },
    "aggsDataSingle": {
      "title": "Grouper les lignes",
      "type": "object",
      "required": ["sortBy", "sortOrder", "size", "groupBy", "valueCalc"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "aggsBased"
        },
        "groupBy": {
          "$ref": "#/definitions/groupBy"
        },
        "size": {
          "$ref": "#/definitions/size"
        },
        "valueCalc": {
          "$ref": "#/definitions/valueCalc"
        },
        "sortBy": {
          "$ref": "#/definitions/aggSort"
        },
        "sortOrder": {
          "$ref": "#/definitions/sortOrder"
        },
        "dynamicSort": {
          "$ref": "#/definitions/dynamicSort"
        },
        "color": {
          "$ref": "#/definitions/color"
        }
      }
    },
    "singleDataType": {
      "type": "object",
      "title": "Préparation des données",
      "description": "Choisissez la manière de traiter les données avant de les présenter dans un graphique.\n\n**lire les lignes une par une**:\nles valeurs sont lues directement depuis chaque ligne du jeu de données.\n\n**grouper les lignes et les compter**:\nles lignes du jeu de données sont groupées selon un critère et les valeurs affichées sont les nombres de lignes pour chaque groupe.\n\n**grouper les lignes et calculer des valeurs dans ces groupes**:\nles lignes du jeu de données sont groupées selon un critère puis les valeurs sont obtenues par calcul sur une colonne numérique pour chaque groupe (somme, moyenne, etc.)",
      "oneOf": [
        {
          "$ref": "#/definitions/rowsDataSingle"
        },
        {
          "$ref": "#/definitions/aggsDataSingle"
        }
      ]
    },
    "rowsDataMultiple": {
      "title": "Lire les lignes une par une",
      "type": "object",
      "required": ["sortBy", "sortOrder", "labelsField", "valuesFields"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "rowsBased"
        },
        "labelsField": {
          "$ref": "#/definitions/labelsField"
        },
        "size": {
          "$ref": "#/definitions/size"
        },
        "valuesFields": {
          "$ref": "#/definitions/valuesFields"
        },
        "sortBy": {
          "$ref": "#/definitions/rowSort"
        },
        "sortOrder": {
          "$ref": "#/definitions/sortOrder"
        },
        "dynamicSort": {
          "$ref": "#/definitions/dynamicSort"
        },
        "colors": {
          "type": "object",
          "title": "Couleurs",
          "oneOf": [
            {
              "$ref": "#/definitions/colorPalette"
            },
            {
              "title": "Palette personnalisée",
              "required": ["type", "styles"],
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "manual"
                },
                "styles": {
                  "title": "Couleurs et ordre",
                  "type": "array",
                  "x-fromData": "parent.parent.parent.value.valuesFields",
                  "x-display": "list",
                  "x-itemTitle": "key",
                  "x-itemKey": "key",
                  "x-itemsProp": "aggs",
                  "items": {
                    "type": "object",
                    "required": ["key"],
                    "additionalProperties": false,
                    "properties": {
                      "key": {
                        "type": "string",
                        "x-display": "hidden"
                      },
                      "color": {
                        "$ref": "#/definitions/hexColor"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      }
    },
    "aggsDataMultiple": {
      "title": "Grouper les lignes",
      "type": "object",
      "required": [
        "sortBy",
        "sortOrder",
        "groupBy",
        "groupsField",
        "valueCalc"
      ],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "aggsBased"
        },
        "groupBy": {
          "$ref": "#/definitions/groupBy"
        },
        "groupsField": {
          "type": "object",
          "title": "Grouper les valeurs en fonction de cette colonne",
          "x-fromUrl": "{datasets.0.href}/schema?calculated=false&maxCardinality=12",
          "x-itemTitle": "label",
          "x-itemKey": "key"
        },
        "size": {
          "$ref": "#/definitions/size"
        },
        "valueCalc": {
          "$ref": "#/definitions/valueCalc"
        },
        "sortBy": {
          "$ref": "#/definitions/aggSort"
        },
        "sortOrder": {
          "$ref": "#/definitions/sortOrder"
        },
        "dynamicSort": {
          "$ref": "#/definitions/dynamicSort"
        },
        "colors": {
          "type": "object",
          "title": "Couleurs",
          "oneOf": [
            {
              "$ref": "#/definitions/colorPalette"
            },
            {
              "title": "Palette personnalisée",
              "required": ["type", "styles"],
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "manual"
                },
                "styles": {
                  "title": "Couleurs et ordre",
                  "type": "array",
                  "x-fromUrl": "{datasets.0.href}/values_agg?field={parent.parent.parent.value.groupsField.key}&agg_size=12&size=0",
                  "x-display": "list",
                  "x-itemTitle": "value",
                  "x-itemKey": "value",
                  "x-itemsProp": "aggs",
                  "items": {
                    "type": "object",
                    "required": ["value"],
                    "additionalProperties": false,
                    "properties": {
                      "value": {
                        "type": "string",
                        "x-display": "hidden"
                      },
                      "color": {
                        "$ref": "#/definitions/hexColor"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      }
    },
    "multipleDataType": {
      "type": "object",
      "title": "Préparation des données",
      "description": "Choisissez la manière de traiter les données avant de les présenter dans un graphique.\n\n**lire les lignes une par une**:\nles valeurs sont lues directement depuis chaque ligne du jeu de données.\n\n**grouper les lignes et les compter**:\nles lignes du jeu de données sont groupées selon un critère et les valeurs affichées sont les nombres de lignes pour chaque groupe.\n\n**grouper les lignes et calculer des valeurs dans ces groupes**:\nles lignes du jeu de données sont groupées selon un critère puis les valeurs sont obtenues par calcul sur une colonne numérique pour chaque groupe (somme, moyenne, etc.)",
      "oneOf": [
        {
          "$ref": "#/definitions/rowsDataMultiple"
        },
        {
          "$ref": "#/definitions/aggsDataMultiple"
        }
      ]
    },
    "rowsCategories": {
      "title": "Lire les lignes une par une",
      "type": "object",
      "required": ["labelsField", "valuesField"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "rowsBased"
        },
        "labelsField": {
          "$ref": "#/definitions/labelsField"
        },
        "size": {
          "type": "integer",
          "title": "Nombre maximal d'élements",
          "default": 5,
          "minimum": 1,
          "maximum": 12
        },
        "valuesField": {
          "$ref": "#/definitions/valuesField"
        },
        "colors": {
          "type": "object",
          "title": "Couleurs",
          "oneOf": [
            {
              "$ref": "#/definitions/colorPalette"
            },
            {
              "title": "Palette personnalisée",
              "required": ["type", "styles"],
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "manual"
                },
                "styles": {
                  "title": "Couleurs et ordre",
                  "type": "array",
                  "x-fromUrl": "{datasets.0.href}/values_agg?field={parent.parent.parent.value.labelsField.key}&agg_size=12&size=0",
                  "x-display": "list",
                  "x-itemTitle": "value",
                  "x-itemKey": "value",
                  "x-itemsProp": "aggs",
                  "items": {
                    "type": "object",
                    "required": ["value"],
                    "additionalProperties": false,
                    "properties": {
                      "value": {
                        "type": "string",
                        "x-display": "hidden"
                      },
                      "color": {
                        "$ref": "#/definitions/hexColor"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      }
    },
    "aggsCategories": {
      "title": "Grouper les lignes",
      "type": "object",
      "required": ["groupBy", "valueCalc"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "aggsBased"
        },
        "groupBy": {
          "$ref": "#/definitions/groupBy"
        },
        "size": {
          "type": "integer",
          "title": "Nombre maximal d'élements",
          "default": 5,
          "minimum": 1,
          "maximum": 12
        },
        "valueCalc": {
          "$ref": "#/definitions/valueCalc"
        },
        "colors": {
          "type": "object",
          "title": "Couleurs",
          "oneOf": [
            {
              "$ref": "#/definitions/colorPalette"
            },
            {
              "title": "Palette personnalisée",
              "required": ["type", "styles"],
              "additionalProperties": false,
              "properties": {
                "type": {
                  "const": "manual"
                },
                "styles": {
                  "title": "Couleurs et ordre",
                  "type": "array",
                  "x-fromUrl": "{datasets.0.href}/values_agg?field={parent.parent.parent.value.groupBy.field.key}&interval={parent.parent.parent.value.groupBy.interval}&agg_size=12&size=0",
                  "x-display": "list",
                  "x-itemTitle": "value",
                  "x-itemKey": "value",
                  "x-itemsProp": "aggs",
                  "items": {
                    "type": "object",
                    "required": ["value"],
                    "additionalProperties": false,
                    "properties": {
                      "value": {
                        "type": "string",
                        "x-display": "hidden"
                      },
                      "color": {
                        "$ref": "#/definitions/hexColor"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      }
    },
    "categories": {
      "type": "object",
      "title": "Préparation des données",
      "description": "Choisissez la manière de traiter les données avant de les présenter dans un graphique.\n\n**lire les lignes une par une**:\nles valeurs sont lues directement depuis chaque ligne du jeu de données.\n\n**grouper les lignes et les compter**:\nles lignes du jeu de données sont groupées selon un critère et les valeurs affichées sont les nombres de lignes pour chaque groupe.\n\n**grouper les lignes et calculer des valeurs dans ces groupes**:\nles lignes du jeu de données sont groupées selon un critère puis les valeurs sont obtenues par calcul sur une colonne numérique pour chaque groupe (somme, moyenne, etc.)",
      "oneOf": [
        {
          "$ref": "#/definitions/rowsCategories"
        },
        {
          "$ref": "#/definitions/aggsCategories"
        }
      ]
    },
    "dynamicFilters": {
      "title": "Filtres interactifs",
      "description": "Ces filtres seront proposés à l'utilisateur sous forme de formulaire en haut du graphique",
      "type": "array",
      "items": {
        "type": "object",
        "required": ["field"],
        "additionalProperties": false,
        "properties": {
          "field": {
            "type": "object",
            "title": "Colonne de filtre",
            "x-fromUrl": "{datasets.0.href}/schema?calculated=false",
            "x-itemTitle": "label",
            "x-itemKey": "key"
          },
          "defaultValue": {
            "type": "string",
            "title": "Valeur par défaut",
            "x-fromUrl": "{datasets.0.href}/values/{parent.value.field.key}?q={q}&q_mode=complete&size=100&stringify=true"
          }
        }
      }
    },
    "filters": {
      "title": "Filtres prédéfinis",
      "type": "array",
      "items": {
        "type": "object",
        "default": {
          "type": "in"
        },
        "x-itemKey": "type",
        "oneOf": [
          {
            "title": "Restreindre à des valeurs",
            "required": ["field", "values"],
            "additionalProperties": false,
            "properties": {
              "type": {
                "const": "in"
              },
              "field": {
                "$ref": "#/definitions/filterField"
              },
              "values": {
                "type": "array",
                "title": "Valeurs",
                "items": {
                  "type": "string"
                },
                "x-fromUrl": "{datasets.0.href}/values/{parent.value.field.key}?q={q}&q_mode=complete&size=100&stringify=true"
              }
            }
          },
          {
            "title": "Restreindre à un interval de valeurs",
            "required": ["field"],
            "additionalProperties": false,
            "properties": {
              "type": {
                "const": "interval"
              },
              "field": {
                "$ref": "#/definitions/filterField"
              },
              "minValue": {
                "type": "string",
                "title": "Valeur min",
                "x-fromUrl": "{datasets.0.href}/values/{parent.value.field.key}?q={q}&q_mode=complete&size=100&stringify=true"
              },
              "maxValue": {
                "type": "string",
                "title": "Valeur max",
                "x-fromUrl": "{datasets.0.href}/values/{parent.value.field.key}?q={q}&q_mode=complete&size=100&stringify=true"
              }
            }
          },
          {
            "title": "Exclure des valeurs",
            "required": ["field", "values"],
            "additionalProperties": false,
            "properties": {
              "type": {
                "const": "out"
              },
              "field": {
                "$ref": "#/definitions/filterField"
              },
              "values": {
                "type": "array",
                "title": "Valeurs à exclure",
                "items": {
                  "type": "string"
                },
                "x-fromUrl": "{datasets.0.href}/values/{parent.value.field.key}?q={q}&q_mode=complete&size=100&stringify=true"
              }
            }
          }
        ]
      }
    },
    "filterField": {
      "type": "object",
      "title": "Colonne de filtre",
      "x-fromUrl": "{datasets.0.href}/schema?calculated=false",
      "x-itemTitle": "label",
      "x-itemKey": "key"
    },
    "colorPalette": {
      "title": "Palette précalculée",
      "required": ["type", "name"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "palette"
        },
        "name": {
          "type": "string",
          "oneOf": [
            {
              "const": "Accent",
              "title": "Accent"
            },
            {
              "const": "Dark2",
              "title": "Foncé"
            },
            {
              "const": "Paired",
              "title": "Paires"
            },
            {
              "const": "Set1",
              "title": "Ensemble 1"
            },
            {
              "const": "Set2",
              "title": "Ensemble 2"
            },
            {
              "const": "Set3",
              "title": "Ensemble 3"
            },
            {
              "const": "Pastel1",
              "title": "Pastel 1"
            },
            {
              "const": "Pastel2",
              "title": "Pastel 2"
            }
          ],
          "default": "Accent"
        },
        "offset": {
          "type": "integer",
          "title": "Décallage",
          "default": 0
        }
      }
    }
  }
}
